<!DOCTYPE html>
<html lang="en">

<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Events - TRYST'24</title>
    <link rel="stylesheet" href="{% static 'css/registrations.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
    <link rel="stylesheet" href="{% static 'css/events.css'%}">
    <link rel="stylesheet" href="{% static 'css/styl.css' %}">
    <link rel="stylesheet" href="{% static 'css/media.css'%}">
    <link rel="stylesheet" href="{% static 'css/homemedia.css'%}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

</head>


<body class="bg">
    <header>
        <nav class="df navBar">
          <img class="logo" src="{% static 'images/trystlogo.png' %}">
          <div id="menu" class="menu">
            <img src="{% static 'images/menu.png' %}" onclick="menuOpen()" alt="">
          </div>
          <ul id="navbar" class="navlist">
            <div class="navbaritem" id="navbaritem">
              <img src="{% static 'images/cut.png' %}" id="cut" alt="" onclick="exitOut()">
              <li id="li"><a class="navlinks" href="{% url 'home' %}">Home</a></li>
              <li><a class="navlinks" id="navlinks" href="{% url 'events' %}">Events</a></li>
              <li><a class="navlinks" href="{% url 'contact' %}">Contact</a></li>
              <li><a class="navlinks" href="{%url 'registration' %}">Registration</a></li>
            </div>
          </ul>
        </nav>
      </header>
    
    <main class="d-flex justify-content-center align-items-center">
        <div class="container">
            <div class="d-flex  justify-content-center">
                <div class="form d-flex flex-column align-items-center justify-content-center">
                    <div class="d-flex justify-content-center flex-column align-items-end reg">
                        <div id="alert" className="alert alert-danger alert-dismissible fade show alt" role="alert">
                            <!-- <strong>Error : </strong> -->
                            <p id="txt"></p>
                        </div>
                        <h1><Span class="badge bg-secondary">Registration Form</Span></h1>
                    </div>
                    <!-- <form onsubmit="dataSubmit()"> -->
                    <form method="post">
                        {% csrf_token%}
                        <div class="mb-3">
                            <label for="name" class="form-label">Enter Name</label>
                            <input type="text" class="form-control" onkeyup="checkName()" id="name" name="name" required
                                aria-describedby="emailHelp" placeholde="alphabets only">
                        </div>
                        <div class="mb-3">
                            <label for="phone" class="form-label">Enter Phone</label>
                            <input type="tel" class="form-control" onkeyup="checkPhone()" id="phone"
                                name="phone" required aria-describedby="emailHelp">
                        </div>
                        <div class="mb-3">
                            <label for="collegeNme" class="form-label">Enter College Name</label>
                            <input type="text" class="form-control" id="collegeNme" name="collegeName" required
                                aria-describedby="emailHelp">
                        </div>
                        <div class="mb-3">
                            <label for="email" class="form-label">Enter Email address</label>
                            <input type="email" class="form-control" placeholder="example@gmail.com"
                                onkeyup="checkEmail()" id="email" name="email" required aria-describedby="emailHelp">
                        </div>
                        
                        <div class="d-flex justify-content-between">
                            <button disabled id="btn" type="submit" class="btn btn-primary mx-3" onclick="checking()">Submit</button>
                            <a class="btn btn-primary mx-3" href="{%url 'home'%}" role="button">&larr; Home</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </main>
    <footer>
        <div class="socialmedia">
            <a href="https://www.facebook.com/TRYSTKESHAV/"><img src="{% static 'images/facebook.png' %}" alt=""
                    height="45px" width="45px"></a>
            <a href="https://www.instagram.com/tryst_kmv/"><img src="{% static 'images/instagram.png' %}" alt=""
                    height="45px" width="45px"></a>
            <a href="https://www.youtube.com/channel/UC23C6Vghe1eROCsvEyM-4hQ"><img src="{% static 'images/x.png' %}"
                    alt="" height="45px" width="45px"></a>
        </div>
        <h4 class="developed-by">Designed and Developed by <span class="ansh-juneja">Ansh Juneja</span></h4>
        <div class="copyright">
            <h3>
                Copyright Â© 2024 KMVTRYST
            </h3>
            <p class="rights">All Rights Reserved</p>
        </div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        crossorigin="anonymous"></script>

</body>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
crossorigin="anonymous"></script>
<script src="{%static '/js/jquery-3.7.1.min.js'%}"></script>

<script>

    
document.getElementById("alert").style.display = 'none';
    let alert = document.getElementById("alert").style
    let btn = document.getElementById("btn")
    let error = document.getElementById("txt")
    var check = false;

const checkName = () => {
    let name = document.getElementById("name").value
    let num = name.match(/[A-Za-z ]/gm)
    num === null ? num = 0 : num = name.match(/[A-Za-z ]/gm).length;
    if (num === name.length) {
        alert.display = 'none'
        btn.disabled = false;
        check = true;
    }
    else {
        alert.display = 'block'
        alert.color = 'red'
        error.innerText = 'Only Alphabets are allowed in Name'
        check = false;
        btn.disabled = true;
    }
}

const checkEmail = () => {
    let email = document.getElementById("email").value
    if (email.match(/@gmail.com/gm) === null) {
        alert.display = 'block'
        alert.color = 'red'
        error.innerText = "Only '@gmail.com' email adress are allowed"
        btn.disabled = true;
        check = false;
    }
    else {
        alert.display = 'none'
        btn.disabled = false;
        check = true;
    }
}
const checkPhone = () => {
    let phone = document.getElementById("phone").value
    if (phone.match(/\d/gm) === null) {
        if (phone !== '') {
            alert.display = 'block'
            alert.color = 'red'
            error.innerText = 'Only Phone Number are allowed'
            btn.disabled = true;
            check = false;
        }
    }
    else if (phone.match(/\d/gm).length !== phone.length) {
        console.log(phone.match(/\d/gm).length)
        alert.display = 'block'
        alert.color = 'red'
        error.innerText = 'Only Phone Number are allowed'
        btn.disabled = true;
        check = false;
    }
    else if (phone.length !== 10) {
        alert.display = 'block'
        alert.color = 'red'
        error.innerText = 'Phone is 10 digits required'
        btn.disabled = true;
        check = false;
    }
    else {
        alert.display = 'none'
        btn.disabled = false;
        check = true;
    }
}

    const checking = () => {
        if (check) {
            checkName()
            if (check) {
                checkEmail()
                if (check) {
                    checkPhone()
                }
            }
        }
    }


    let width = window.screen.width
    if (width < 735) {
        let nav = document.getElementById("navbar")
        nav.style.right = '-200px';
        nav.style.display = 'none';
        document.getElementById("menu").style.display = 'block';
    } else {
        document.getElementById("cut").style.display = 'none';
        document.getElementById("menu").style.display = 'none';
    }

    const exitOut = () => {
        let nav = document.getElementById("navbar")
        nav.style.right = '-200px';
        nav.style.transition = '0.5s';
        setTimeout(() => {
            nav.style.display = 'none';
            document.getElementById("menu").style.display = 'block';
        }, 200);
    }

    const menuOpen = () => {
        let menu = document.getElementById("menu")
        menu.style.display = 'none'
        let nav = document.getElementById("navbar")
        nav.style.display = 'block';
        nav.style.right = '0px';
        nav.style.transition = '0.2s';
    }
</script>

</html>